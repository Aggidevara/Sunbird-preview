<form #sessionForm="ngForm">
    <h5 class="modal-title" id="ModalLabel"> {{existingSessionFlag ? "Update" : "Create" }} Sessions
        <i class="fas fa-times-circle float-right" (click)="onNoClick()"></i>
      </h5>
      <hr/>


    <h6 class="modal-title text-center align-cnter" id="ModalLabel"><i class="fas fa-book" ></i>&nbsp;&nbsp;{{course.name}} &nbsp; &nbsp;  &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span><i class="fas fa-group"></i>&nbsp; &nbsp;{{batchData.name}}</span>
    </h6>
  <br>
<form #sessionForm="ngForm" novalidate>
  <h5 class="modal-title" id="ModalLabel"> {{existingSessionFlag ? "Update" : "Create" }} Sessions
    <i class="fas fa-times-circle float-right" (click)="onNoClick()"></i>
  </h5>
  <hr />
  <div class="form-group">
      <label for="sessionTitle">Name of Session</label>
      <input [ngModel]="existingSessionFlag ? (session.sessionDetails.sessionTitle) : ''" #title="ngModel" name="sessionTitle"
        type="text" class="form-control" id="sessionTitle" placeholder="session name"   required minlength="4" >
        <div *ngIf="title.invalid && (title.dirty || title.touched)"
      class="alert alert-danger">

    <div *ngIf="title.errors.required">
      Name is required.
    </div>
    <div *ngIf="title.errors.minlength">
      Name must be at least 4 characters long.
    </div>
    </div>
    </div>
  <!-- [value]="existingSessionFlag ? (session.sessionDetails.sessionDescription) : ''" -->
  <div class="form-group">
    <label for="sessionDescription">Description </label>
    <textarea [ngModel]="existingSessionFlag ? (session.sessionDetails.sessionDescription) : ''" #description="ngModel"
      name="sessionDescription" class="form-control" id="sessionDescription" rows="3" placeholder="session Description" required ></textarea>
      <div *ngIf="description.invalid && (description.dirty || description.touched)"
      class="alert alert-danger">

    <div *ngIf="description.errors.required">
      Description is required.
    </div>
    </div>
  </div>
  <div class="form-group">
    <label for="courseUnit">Course Units</label>
    <select class="form-control" id="courseUnit" [ngModel]="existingSessionFlag ? (session.sessionDetails.courseUnit) : ''"
      #courseUnit="ngModel" name="courseUnit" required>
      <option [value]="courseName?.code" *ngFor='let courseName of coursechapters'>{{courseName.name}}</option>
    </select>
    <div *ngIf="courseUnit.invalid && (courseUnit.dirty || courseUnit.touched)"
    class="alert alert-danger">

  <div *ngIf="courseUnit.errors.required">
    Unit is required.
  </div>
  </div>
  </div>
  <div class="form-group">
    <label for="sessionUrl">Meeting Url</label>
    <input [ngModel]="existingSessionFlag ? (session.sessionDetails.sessionUrl) : ''" #url="ngModel" name="sessionUrl"
      type="email" class="form-control" id="sessionUrl" placeholder="http://example.com" pattern="http?://.+" required/>
      <div *ngIf="url.invalid && (url.dirty || url.touched)"
    class="alert alert-danger">
    <div *ngIf="url.errors.required">Site is required</div>
    <div *ngIf="url.errors.pattern">Must be a valid site URL</div>
  </div>
  </div>
  <div class="form-group">
      <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Choose a date" required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

  </div>
  <div>
    <button *ngIf="!existingSessionFlag" type="button" class="btn btn-secondary" style="float:right;" (click)="saveSession(sessionForm,'draft')">Save</button>
    <button *ngIf="existingSessionFlag" type="button" class="btn btn-primary" style="float:right;margin-right: 1rem;"
      (click)="updateSession(sessionForm)">Update</button>
    <button *ngIf="!existingSessionFlag" type="button" class="btn btn-primary" style="float:right;margin-right: 1rem;"
      (click)="saveSession(sessionForm,'published')">Publish</button>
  </div>
</form>
